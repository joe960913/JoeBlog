<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Promise</title><link rel="shortcut icon" href="/images/ghost.jpg"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css"><script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script><meta name="generator" content="Hexo 4.0.0"></head><body><nav class="main-nav"><a href="/">Home</a><a href="/archives">Archives</a><a href="/about">About Me</a></nav><div class="profile"><section id="wrapper"><header id="header"><a href="/"><img class="2x" id="avatar" src="/images/ghost.jpg"></a><h1>Redamancy_13</h1><h2></h2></header></section></div><section class="post" id="wrapper"><article><header><h1>Promise</h1><h2 class="headline">Nov 18, 2019 10:08Â·
396 words
Â·
1 minutes read<span class="tags"></span></h2></header><section id="post-body"><h1 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h1><blockquote>
<p>ä»€ä¹ˆæ˜¯ promise ï¼Ÿ</p>
</blockquote>
<p>å°±æ˜¯æ‰¿è¯ºã€‚ä»€ä¹ˆæ˜¯æ‰¿è¯ºï¼Ÿå°±æ˜¯ç­”åº”è¿‡è¦åšåˆ°çš„äº‹æƒ…ã€‚ä»€ä¹ˆåˆæ˜¯ç­”åº”è¿‡è¦åšåˆ°çš„äº‹æƒ…ï¼Ÿåœ¨äººç±»ä¸–ç•Œé‡Œï¼Œæ˜¯çˆ±â¤ï¸ï¼Œæ˜¯å‹æƒ…ğŸ¤¼â€â™‚ï¸ï¼Œæ˜¯äº²æƒ…ğŸ‘ªï¼Œæ˜¯çˆ±æƒ…ğŸ’‘ã€‚å¯æ˜¯å¦‚æœä½ æ²¡æœ‰å±¥è¡Œæ‰¿è¯ºå‘¢ï¼Ÿä½ ä¹Ÿè®¸ä¼šå¤±å»ä¸€äº›é‡è¦çš„ä¸œè¥¿æ¯”å¦‚ä¿¡ä»»ã€ä¾èµ–ã€æœºé‡ã€é‡‘é’±ç­‰ç­‰ï¼Œæ‰€ä»¥ï¼Œå„ä½ï¼Œä¸è¦è½»æ˜“ä½œå‡ºæ‰¿è¯ºå“¦ï¼Œè¯·æ”¹æ‰å–œæ¬¢å£å—¨ğŸ‘„ğŸ”Šçš„ä¹ æƒ¯ï¼</p>
<p>ä½†æ˜¯ JavaScript çš„ Promise å´ä¸ä¼šï¼Œå®ƒä¸ä»…å®Œæˆæ‰¿è¯ºçš„èƒ½åŠ›ï¼Œè¿˜æœ‰å‘Šè¯‰ä½ å®ƒåšä¸åˆ°çš„åšè„¸çš®ã€‚</p>
<p>Promise æœ‰ä¸‰ä¸ªçŠ¶æ€ï¼š</p>
<ol>
<li>pending - ç­‰å¾…âŒ›ï¸</li>
<li>resolved - å®Œæˆâœ…</li>
<li>rejected - æ‹’ç»âŒ</li>
</ol>
<p>è¿™ä¸ªæ‰¿è¯ºä¸€æ—¦ä»ç­‰å¾…å˜æˆå®Œæˆæˆ–æ‹’ç»ï¼Œå®ƒå°±åƒé£èš€çš„èœ¡çƒ›ğŸ•¯ï¸ä¸€èˆ¬ï¼Œæ°¸è¿œä¸èƒ½å›å»ï¼Œæ°¸è¿œä¸èƒ½æ”¹å˜äº†ğŸ˜”ã€‚</p>
<pre><code class="javascript">new Promise((resolve, reject) =&gt; {
  resolve(&#39;success&#39;)
  // æ— æ•ˆ
  reject(&#39;reject&#39;)
})</code></pre>
<p>Promise çš„æ„é€ å‡½æ•°å†…éƒ¨çš„ä»£ç æ˜¯ç«‹åˆ»æ‰§è¡Œçš„å“¦ã€‚</p>
<pre><code class="javascript">new Promise((resolve, reject) =&gt; {
  console.log(&#39;new Promise&#39;)
  resolve(&#39;success&#39;)
})
console.log(&#39;finifsh&#39;)
// new Promise -&gt; finifsh</code></pre>
<p>Promise æœ‰ä¸€ä¸ª then æ–¹æ³•ï¼Œå®ƒä¸º Promise å®ç°äº†é“¾å¼è°ƒç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡è°ƒç”¨ then ä¹‹åè¿”å›çš„éƒ½æ˜¯ä¸€ä¸ª Promise ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªå…¨æ–°çš„ Promise ï¼ŒåŸå› ä¹Ÿæ˜¯å› ä¸ºçŠ¶æ€ä¸å¯å˜ã€‚å¦‚æœä½ åœ¨ then ä¸­ä½¿ç”¨äº† return ï¼Œé‚£ä¹ˆ return çš„å€¼ä¼šè¢« Promise.resolve() åŒ…è£…ã€‚</p>
<pre><code class="javascript">Promise.resolve(1)
  .then(res =&gt; {
    console.log(res) // =&gt; 1
    return 2 // åŒ…è£…æˆ Promise.resolve(2)
  })
  .then(res =&gt; {
    console.log(res) // =&gt; 2
  })</code></pre>
<p>å½“ç„¶ï¼Œå› æ­¤è§£å†³äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚å›è°ƒåœ°ç‹±æ˜¯å•¥ï¼Ÿè¿™å°±ä¸è§£é‡Šäº†å“ˆï¼Œæ‡‚çš„éƒ½æ‡‚ï¼Œä¸æ‡‚åˆ«é—®ğŸ˜œã€‚</p>
</section><nav id="post-nav"><span class="prev"><a href="/AsyncAwait/"><span class="arrow">â†</span>Newer Posts</a></span><span class="next"><a href="/you-dont-know-js-1/">Older Posts<span class="arrow">â†’</span></a></span></nav><section><div id="disqus_thread"><noscript>'Please enable JavaScript to view the'<a href="http://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript></div></section><script>(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());</script></article></section><footer id="footer"><div id="social"><a class="symbol" href="https://github.com/joe960913" target="_blank" rel="noopener"><i class="fa fa-github"></i></a><p class="small">You still have time</p></div></footer><script>hljs.initHighlightingOnLoad();</script></body></html>